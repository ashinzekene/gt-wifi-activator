!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.d3_queue={})}(this,function(n){"use strict";function t(){}function r(n){function r(){if(!l)try{o()}catch(n){a[w+s-1]&&i(n)}}function o(){for(;l=h&&n>s;){var t=w+s,r=a[t],o=r.length-1,u=r[o];r[o]=f(t),--h,++s,r=u.apply(null,r),a[t]&&(a[t]=r||e)}}function f(n){return function(t,o){a[n]&&(--s,++w,a[n]=null,null==d&&(null!=t?i(t):(p[n]=o,h?r():s||y(d,p))))}}function i(n){var t,r=a.length;for(d=n,p=void 0,h=NaN;--r>=0;)if((t=a[r])&&(a[r]=null,t.abort))try{t.abort()}catch(n){}s=NaN,y(d,p)}if(!(n>=1))throw new Error;var c,l,a=[],p=[],h=0,s=0,w=0,d=null,y=t;return c={defer:function(n){if("function"!=typeof n||y!==t)throw new Error;if(null!=d)return c;var o=u.call(arguments,1);return o.push(n),++h,a.push(o),r(),c},abort:function(){return null==d&&i(new Error("abort")),c},await:function(n){if("function"!=typeof n||y!==t)throw new Error;return y=function(t,r){n.apply(null,[t].concat(r))},s||y(d,p),c},awaitAll:function(n){if("function"!=typeof n||y!==t)throw new Error;return y=n,s||y(d,p),c}}}function o(n){return r(arguments.length?+n:1/0)}var u=[].slice,e={},f="2.0.1";n.version=f,n.queue=o});